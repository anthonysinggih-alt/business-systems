<!DOCTYPE html>
<html>
<head>
    <title>Customer - POS</title>
</head>
<body>
    <h1>Point of Sale</h1>

    <h2>Available Products</h2>
    <div>
        {% for product in products %}
        <div style="border: 1px solid black; padding: 10px; margin: 5px; display: inline-block;">
            <h3>{{ product.product_name }}</h3>
            <p>Price: ${{ "%.2f"|format(product.unit_price) }}</p>
            <form action="/customer/add_to_cart" method="POST">
                <input type="hidden" name="product_id" value="{{ product.product_id }}">
                <input type="hidden" name="product_name" value="{{ product.product_name }}">
                <input type="hidden" name="unit_price" value="{{ product.unit_price }}">
                <button type="submit">Add to Cart</button>
            </form>
        </div>
        {% endfor %}
    </div>

    <hr>

    <h2>Shopping Cart</h2>
    <table border="1">
        <tr>
            <th>Product Name</th>
            <th>Unit Price</th>
            <th>Quantity</th>
            <th>Subtotal</th>
            <th>Action</th>
        </tr>
        {% for item in cart_items %}
        <tr>
            <td>{{ item.product_name }}</td>
            <td>${{ "%.2f"|format(item.unit_price) }}</td>
            <td>{{ item.quantity }}</td>
            <td>${{ "%.2f"|format(item.unit_price * item.quantity) }}</td>
            <td>
                <form action="/customer/remove_from_cart/{{ item.id }}" method="POST" style="display:inline;">
                    <button type="submit">Remove</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>

    <h3>Subtotal: ${{ "%.2f"|format(subtotal) }}</h3>
    <h3>Tax (10%): ${{ "%.2f"|format(subtotal * 0.1) }}</h3>
    <h3>Total: ${{ "%.2f"|format(subtotal * 1.1) }}</h3>

    <h2>Checkout</h2>
    <form action="/customer/checkout" method="POST">
        <label>Payment Method:</label>
        <select name="payment_type" required>
            {% for payment in payment_types %}
            <option value="{{ payment }}">{{ payment }}</option>
            {% endfor %}
        </select>
        <button type="submit">Complete Payment</button>
    </form>

    <br>
    <a href="/admin">Go to Admin Panel</a>
</body>
</html>